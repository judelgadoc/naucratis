<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Libro</title>
</head>
<body>
<header>
    <table>
        <td>
            <img width="100px" th:src="@{/images/Naucratis.png}">
        </td>
        <td>
            <h1> Naucratis </h1>
        </td>
    </table>
</header>
<nav>
    <ul>
        <li th:if="${role == null}">
            <a th:href="@{/login}"> <button type="button">Iniciar Sesión</button></a>
            <a th:href="@{/register}"> <button type="button">Registrarse</button></a>
        </li>
        <li th:if="${#strings.equals(role,'administrator')}">
            <a th:href="@{/administrator/libraries}"><button type="button">Librerias</button> </a>
        </li>
        <li th:if="${#strings.equals(role,'customer')}">
            <a th:href="@{/customer/shoppingCart}"><button type="button">Carrito</button> </a>
        </li>
        <li th:if="${role != null}">
            <a th:href="@{'/' + ${role}}"> <button type="button"> Ver perfil </button></a>
        </li>
        <li th:if="${role != null}">
            <form method="POST" th:action="@{/logout}">
                <input type="submit" value="Cerrar sesión"/>
            </form>
        </li>
    </ul>
</nav>
<h1> <span th:text="${book.name}"> NOMBRE </span> </h1>
<img width="200px" th:src="'data:image/png;base64,'+${book.getImageBase64()}">

<ul>
    <li>
        Autores:
        <ul>
            <li th:each="author: ${book.authors}">
                <span th:text="${author.name}"> AUTOR </span>
            </li>
        </ul>
    </li>
    <li>ISBN:      <span th:text="${book.isbn}">          ISBN              </span></li>
    <li>Editorial: <span th:text="${book.editorial}">     EDITORIAL         </span></li>
    <li>Edición:   <span th:text="${book.edition}">       EDICIÓN           </span></li>
    <li>Categoria: <span th:text="${book.category}">      CATEGORIA         </span></li>
    <li>Paginas:   <span th:text="${book.getNumPages()}"> NUMERO DE PAGINAS </span></li>
    <li>Largo:     <span th:text="${book.length}">        LARGO             </span></li>
    <li>Ancho:     <span th:text="${book.width}">         ANCHO             </span></li>
    <li>Alto:      <span th:text="${book.height}">        ALTO              </span></li>
</ul>

<table>
    <tr>
        <td> ID          </td>
        <td> Condición   </td>
        <td> Estado  </td>
        <td> Precio      </td>
        <td> Ubicación   </td>
        <td> Descripción </td>
    </tr>
    <tr th:each="copy: ${copies}">
        <td> <span th:text="${copy.id}">                                     ID BOOK     </span> </td>
        <td> <span th:text="${copy.condition}">                              CONDICION   </span> </td>
        <td> <span th:text="${copy.status.toString()}"> DISPONIBLE </span> </td>
        <td> <span th:text="${copy.price}">                                  PRECIO      </span> </td>
        <td> <span th:text="${copy.site}">                                   UBICACION   </span> </td>
        <td> <span th:text="${copy.description}">                            DESCRIPCION </span> </td>
        <td>
            <a th:href="@{'/transaction/start/' + ${nameLibrary} + '/' + ${copy.id}}">
               <button type="button"> Agregar al carrito </button>
            </a>
        </td>
    </tr>
</table>
</body>
</html>